<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Document</title>
    <link rel="stylesheet" href="CSS files/header.css" />
    <link rel="stylesheet" href="CSS files/cart.css" />
    <link rel="stylesheet" href="CSS files/loginForm.css" />
    <link rel="stylesheet" href="CSS files/best_sell.css" />
    <link rel="stylesheet" href="CSS files/new_arrivals.css" />
    <link rel="stylesheet" href="CSS files/Product_Page.css" />
  </head>
  <body>
    <!-- header -->
    <div class="header_containor">
      <div id="header-placeholder"></div>
    </div>
    <!-- header -->

    <div class="product_detail_container">
      <div class="product_image_container">
        <div class="product_image">
          <img src="Photos/Best Seller Products Image/aloveragel.jpg" alt="" />
        </div>
        <div class="other_images">
          <img class="firdt_img" src="" alt="" />
          <img class="second_img" src="" alt="" />
        </div>
      </div>
      <div class="product_detail">
        <div class="name_assurance_container">
          <div class="product_name">Product Name</div>
        </div>
        <div class="rating"></div>
        <div class="product_description">Product Description</div>

        <div class="weight_container">
          <div class="weight">Weight</div>
        </div>

        <!-- <div class="quantity_container">
          <div class="quantity">Quantity</div>
          <span class="qty_descrese">-</span><span class="qty_number">1</span
          ><span class="qty_increse">+</span>
        </div> -->
        <div class="quantity_container">
          <div class="quantity">Quantity</div>
          <span class="qty_descrese" onclick="decreaseQuantity()">-</span>
          <span class="qty_number">1</span>
          <span class="qty_increse" onclick="increaseQuantity()">+</span>
        </div>

        <div class="product_price_container">
          <div class="price_heading">Price</div>
        </div>

        <div class="buy_cart_container">
          <div
            class="buy_button"
            onmouseover="changeColors(this)"
            onclick="changeColorsClick(this)"
            onmouseout="restoreOriginalColors(this)"
          >
            BUY
          </div>
          <div
            class="add_to_cart_button"
            onmouseover="changeColors(this)"
            onclick="changeColorsClick(this)"
            onmouseout="restoreOriginalColors(this)"
          >
            ADD TO CART
          </div>
        </div>
      </div>
    </div>

    <div class="description_review_policy_container">
      <div class="desc_shipping_review">
        <div
          class="description"
          onclick="changeColorsClickDescriptionShipping(this)"
          onmouseover="changeColorsDescriptionShipping(this)"
          onmouseout="restoreOriginalColorsDescriptionShipping(this)"
        >
          Description
        </div>
        <div
          class="shipping_Returns"
          onclick="changeColorsClickDescriptionShipping(this)"
          onmouseover="changeColorsDescriptionShipping(this)"
          onmouseout="restoreOriginalColorsDescriptionShipping(this)"
        >
          Shipping & Returns
        </div>
        <div
          class="reviews"
          onmouseover="changeColors(this)"
          onclick="scrollToReview()"
        >
          Reviews
        </div>
      </div>
      <div class="product_description_container">
        <div class="product_description">
          <div class="desc_product_name">
            Product Name :
            <span class="DescriptionProductName">Product Name</span>
          </div>
        </div>
        <div class="keyIngredientsContainer">
          <div class="keyIngredients">Key Ingredients :</div>
          <ul class="keyIngredientsList">
            <li>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
              qui ab consectetur odit error quas fugit esse accusantium minus
              ullam. Voluptatem delectus molestiae porro ut est minus quisquam,
              magnam nihil.
            </li>
            <li>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
              qui ab consectetur odit error quas fugit esse accusantium minus
              ullam. Voluptatem delectus molestiae porro ut est minus quisquam,
              magnam nihil.
            </li>
          </ul>
        </div>
        <div class="featuresContainer">
          <div class="features">Features :</div>
          <ul class="featuresList">
            <li>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
              qui ab consectetur odit error quas fugit esse accusantium minus
              ullam. Voluptatem delectus molestiae porro ut est minus quisquam,
              magnam nihil.
            </li>
            <li>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
              qui ab consectetur odit error quas fugit esse accusantium minus
              ullam. Voluptatem delectus molestiae porro ut est minus quisquam,
              magnam nihil.
            </li>
          </ul>
        </div>

        <div class="howToUseContainer">
          <div class="howToUse">How To Use :</div>
          <ul class="howToUseList">
            <li>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
              qui ab consectetur odit error quas fugit esse accusantium minus
              ullam. Voluptatem delectus molestiae porro ut est minus quisquam,
              magnam nihil.
            </li>
            <li>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
              qui ab consectetur odit error quas fugit esse accusantium minus
              ullam. Voluptatem delectus molestiae porro ut est minus quisquam,
              magnam nihil.
            </li>
          </ul>
        </div>
        <div class="cautionContainer">
          <div class="caution">Caution :</div>
          <ul class="cautionList">
            <li>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
              qui ab consectetur odit error quas fugit esse accusantium minus
              ullam. Voluptatem delectus molestiae porro ut est minus quisquam,
              magnam nihil.
            </li>
            <li>
              Lorem ipsum dolor sit amet consectetur adipisicing elit. Dolore
              qui ab consectetur odit error quas fugit esse accusantium minus
              ullam. Voluptatem delectus molestiae porro ut est minus quisquam,
              magnam nihil.
            </li>
          </ul>
        </div>
      </div>
      <div class="shipping_Returns_container">
        <div class="returnPolicy_container">
          <div class="returnPolicy">RETURN POLICY</div>
          <p class="returnPolicy_detail">
            Welcome to BotanicBlend, where customer satisfaction is our
            priority. <br /><br />
            Our skincare product return policy is designed to ensure a seamless
            and transparent process for our valued customers. Eligible products
            for return must be unused, unopened, and in their original
            packaging, with returns accepted within 3 days from the date of
            purchase.
            <br />
            Initiating a return is easy; simply initiate the return through your
            customer account For a smooth return process, a return authorization
            is required, and you can obtain it by contacting our customer
            support.
            <br />
            Returned products must meet the criteria of being in their original
            condition.
            <br />
            Regarding return shipping, the customer or is responsible for return
            shipping.
            <br />
            Refunds are typically processed within 15 days of receiving the
            returned product and will be issued via credit card refund.
            <br />
            Be sure to review any exceptions to our return policy, such as
            specific sale items or promotional products. In the rare event of
            receiving a damaged or defective product, please contact our
            customer support immediately, and include photos of the product for
            verification. <br /><br />
            Thank you for choosing BotanicBlend for your skincare needs.
          </p>
        </div>
        <br /><br />
        <div class="shippingDetail_container">
          <div class="shippingDetail">SHIPPING DETAIL</div>
          <p class="shippingDetail_detial">
            We can ship to vitually any address in the world. Note that there
            Are restriction on some products, and some products cannot be
            Shipped to international destination.
            <br /><br />
            When you place an order, we Will estimate shipping and delivery
            dates for you based on the Availabilty of your item and the shipping
            options you choose. Depending on the shipping provider you choose,
            shipping dates Estimates may appear on the shipping quotes page.
            <br /><br />
            Please also note That the shipping rates for many items we sell are
            wieght-based. The Wieght of any such item can be found on its detail
            page. To reflect The policies of the shipping companies we use, all
            weights will be Rounded up to the next full pound.
          </p>
        </div>
      </div>
      <div class="customer_reviews_container">
        <div class="customerReviewHeading">
          <div class="heading">Customer Reviews</div>
          <span
            class="writeReview"
            onmouseover="changeColors(this)"
            onmouseout="restoreOriginalColors(this)"
            >Write a review</span
          >
        </div>
        <div class="review_write_container">
          <div class="review_write_container_heading">Write a review</div>
          <form action="">
            <div class="rating_container">
              <div class="review_rating">
                <div
                  class="star_container"
                  onmousemove="updateStars(1)"
                  onmouseleave="resetStars()"
                  onclick="setRating(1)"
                >
                  <img
                    src="Photos/Stars/unactive-star.png"
                    alt="Star"
                    class="star"
                    id="star1"
                  />
                </div>
                <div
                  class="star_container"
                  onmousemove="updateStars(2)"
                  onmouseleave="resetStars()"
                  onclick="setRating(2)"
                >
                  <img
                    src="Photos/Stars/unactive-star.png"
                    alt="Star"
                    class="star"
                    id="star2"
                  />
                </div>
                <div
                  class="star_container"
                  onmousemove="updateStars(3)"
                  onmouseleave="resetStars()"
                  onclick="setRating(3)"
                >
                  <img
                    src="Photos/Stars/unactive-star.png"
                    alt="Star"
                    class="star"
                    id="star3"
                  />
                </div>
                <div
                  class="star_container"
                  onmousemove="updateStars(4)"
                  onmouseleave="resetStars()"
                  onclick="setRating(4)"
                >
                  <img
                    src="Photos/Stars/unactive-star.png"
                    alt="Star"
                    class="star"
                    id="star4"
                  />
                </div>
                <div
                  class="star_container"
                  onmousemove="updateStars(5)"
                  onmouseleave="resetStars()"
                  onclick="setRating(5)"
                >
                  <img
                    src="Photos/Stars/unactive-star.png"
                    alt="Star"
                    class="star"
                    id="star5"
                  />
                </div>
              </div>
            </div>

            <div class="review_title_container">
              <div class="review_title">Review Title</div>
              <input
                type="text"
                id="review"
                name="review"
                placeholder="Give your review a title"
              />
            </div>
            <div class="review_body_container">
              <div class="review_body">Body of review (1500)</div>
              <textarea
                name="review_body"
                id="review_body"
                cols="30"
                rows="10"
                placeholder="Write your review here..."
              ></textarea>
            </div>
            <div class="submit_button">
              <input
                type="submit"
                value="Submit Review"
                onmouseover="changeColors(this)"
                onmouseout="restoreOriginalColors(this)"
              />
            </div>
          </form>
        </div>
        <div class="review_container">
          <ul class="review_list">
            <li>
              <div class="customerName_date_container">
                <div class="customer_name">Crish bumstured</div>
                <span>on</span>
                <div class="date">11/11/2024</div>
              </div>
              <div class="rating">*****</div>
              <div class="review_title">xyz</div>
              <div class="review_body">
                Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                Voluptates quod praesentium ducimus assumenda sit repudiandae
                est? Eum, qui ut officiis modi cupiditate pariatur, vel vitae
                reprehenderit facere aperiam ipsum necessitatibus?
              </div>
            </li>
            <li>
              <div class="customerName_date_container">
                <div class="customer_name">Crish bumstured</div>
                <span>on</span>
                <div class="date">11/11/2024</div>
              </div>
              <div class="rating">*****</div>
              <div class="review_title">xyz</div>
              <div class="review_body">
                Lorem ipsum dolor sit, amet consectetur adipisicing elit.
                Voluptates quod praesentium ducimus assumenda sit repudiandae
                est? Eum, qui ut officiis modi cupiditate pariatur, vel vitae
                reprehenderit facere aperiam ipsum necessitatibus?
              </div>
            </li>
          </ul>
        </div>
      </div>
    </div>

    <!-- Best Sellers Dynamically -->
    <div class="best_sell_container">
      <div class="best_sell_heading">
        <h1>Our Best Selling Products</h1>
      </div>
      <div class="best_sell_products">
        <ul id="bestSellerList"></ul>
      </div>
      <div class="best_sellers_viewAll_button">
        <a href=""
          ><div class="view_all_btn" onmouseover="changeColors(this)">
            View All
          </div></a
        >
      </div>
    </div>
    <!-- Best Sellers Dynamically -->

    <!-- Footer -->
    <div class="footer_container">
      <div id="footer-placeholder"></div>
    </div>
    <!-- Footer -->
    <script src="JavaScript files/header_footer_loader.js"></script>
    <script src="JavaScript files/cart.js"></script>
    <script src="JavaScript files/search.js"></script>
    <script src="JavaScript files/loginFormShow.js"></script>
    <script src="JavaScript files/button_color_change.js"></script>
    <script src="JavaScript files/cart_icon_change.js"></script>
    <script>
      //BEST SELLERS PRODUCTS
      fetch("/Best_Sellers")
        .then((response) => response.json())
        .then((data) => {
          // Call a function to render the data
          renderBestSellers(data);
        })
        .catch((error) => console.error("Error fetching data:", error));

      // Function to render new arrivals
      function renderBestSellers(data) {
        // Get the UL element
        const bestSellerList = document.getElementById("bestSellerList");

        // Loop through the data and create list items
        data.forEach((product) => {
          const listItem = document.createElement("li");

          var modifiedImagePath = product.image_url.replace("other pages/", "");

          listItem.innerHTML = `
                <div class="best_sell_product_section">
                  <div class="best_sell_product_image">
                      <a href="#"><img src="${modifiedImagePath}" alt="" /></a>

                    </div>
                    <div class="best_sell_product_name">${product.name}</div>
                    <div class="best_sell_product_desc">${product.description}</div>
                    <div class="best_sell_product_rating">${product.rating}</div>
                    <div class="best_sell_product_price">
                        <div class="price">${product.price}</div>
                        <!-- Add to Cart section -->
                        <div class="add_to_cart product-container"
                            onmouseover="showAddToCart(this) ; changeColors(this)"
                            onmouseout="hideAddToCart(this)">
                            <div class="icon">
                                 <svg
                                    xmlns="http://www.w3.org/2000/svg"
                                    height="16"
                                    width="15"
                                    viewBox="0 0 576 512"
                                    >
                                    <!--!Font Awesome Free 6.5.1 by @fontawesome - https://fontawesome.com License - https://fontawesome.com/license/free Copyright 2023 Fonticons, Inc.-->
                                    <path
                                        d="M0 24C0 10.7 10.7 0 24 0H69.5c22 0 41.5 12.8 50.6 32h411c26.3 0 45.5 25 38.6 50.4l-41 152.3c-8.5 31.4-37 53.3-69.5 53.3H170.7l5.4 28.5c2.2 11.3 12.1 19.5 23.6 19.5H488c13.3 0 24 10.7 24 24s-10.7 24-24 24H199.7c-34.6 0-64.3-24.6-70.7-58.5L77.4 54.5c-.7-3.8-4-6.5-7.9-6.5H24C10.7 48 0 37.3 0 24zM128 464a48 48 0 1 1 96 0 48 48 0 1 1 -96 0zm336-48a48 48 0 1 1 0 96 48 48 0 1 1 0-96z"
                                    />
                                </svg>
                            </div>
                            <div class="add-to-cart">Add to Cart</div>
                        </div>
                    </div>
                    <!-- Buy button -->
                    <a href=""><div class="new_arrival_product_buttons btn_color"
                        onmouseover="changeColors(this)">
                        Buy
                    </div></a>
                </div>
            `;

          // Append the list item to the UL
          bestSellerList.appendChild(listItem);
        });
      }
    </script>

    <script src="JavaScript files/productPageWeightSelector.js"></script>
    <script src="JavaScript files/productsPageFlavourSelector.js"></script>
    <script src="JavaScript files/productPage_descriptionOrShipping_hide_show.js"></script>
    <script src="JavaScript files/button_color_change.js"></script>
    <script src="JavaScript files/productPage_reviewScroll.js"></script>
    <!-- <script src="JavaScript files/productPageQtySelector.js"></script> -->
    <script src="JavaScript files/productPage_reviewWrite_HideShow.js"></script>
    <script src="JavaScript files/shopDropdownShow.js"></script>
    <script src="JavaScript files/Load_logo_img.js"></script>

    <!-- Star JavaScript -->
    <script>
      let selectedRating = 0;

      function updateStars(rating) {
        if (selectedRating === 0) {
          const stars = document.querySelectorAll(".star");

          for (let i = 0; i < stars.length; i++) {
            if (i < rating) {
              stars[i].src = "Photos/Stars/active-star.png";
              console.log(stars[i]);
            } else {
              stars[i].src = "Photos/Stars/unactive-star.png";
              console.log(stars[i]);
            }
          }
        }
      }

      function resetStars() {
        if (selectedRating === 0) {
          const stars = document.querySelectorAll(".star");

          stars.forEach((star) => {
            star.src = "Photos/Stars/unactive-star.png";
          });
        }
      }

      function setRating(rating) {
        selectedRating = rating;

        const stars = document.querySelectorAll(".star");

        stars.forEach((star, index) => {
          if (index < rating) {
            star.src = "Photos/Stars/active-star.png";
          } else {
            star.src = "Photos/Stars/unactive-star.png";
          }
        });
      }
    </script>

    <!-- products fetching -->
    <script>
      var originalPrice;
      var newPrice;
      document.addEventListener("DOMContentLoaded", function () {
        const queryString = window.location.search;

        // Parse the query string into a URLSearchParams object
        const urlParams = new URLSearchParams(queryString);

        // Access individual parameters using their names
        const product_Name = urlParams.get("productName");
        console.log(product_Name);

        fetch(`/productDetails?productName=${product_Name}`)
          .then((response) => response.json())
          .then((productDetails) => {
            // Update HTML elements with product details

            document.querySelector(".product_image img").src =
              productDetails[0].image_url.replace("other pages/", "");

            document.querySelector(".firdt_img").src =
              productDetails[0].image_url.replace("other pages/", "");

            document.querySelector(".second_img").src =
              productDetails[0].another_img_url.replace("other pages/", "");

            document.querySelector(".product_name").innerText =
              productDetails[0].name;

            const ratingContainer = document.querySelector(".rating");
            for (let i = 0; i < productDetails[0].rating; i++) {
              const starImage = document.createElement("img");
              starImage.src = "Photos/Stars/active-star.png";
              starImage.alt = "Star";
              starImage.className = "star";
              starImage.id = "star" + (i + 1); // IDs should be unique, so append i+1

              ratingContainer.appendChild(starImage);
            }

            document.querySelector(".product_description").innerText =
              productDetails[0].description;

            const weightContainer = document.querySelector(".weight_container");
            for (let i = 0; i < productDetails.length; i++) {
              const weightSpan = document.createElement("span");
              weightSpan.innerText = productDetails[i].size;
              weightSpan.setAttribute(
                "onmouseover",
                "changeColorsWeight(this)"
              );
              weightSpan.setAttribute(
                "onclick",
                `changeColorsClickWeight(this); weightSelector(this, ${JSON.stringify(
                  productDetails
                )})`
              );
              weightSpan.setAttribute(
                "onmouseout",
                "restoreOriginalColorsWeight(this)"
              );
              weightContainer.appendChild(weightSpan);
            }

            const priceContainer = document.querySelector(
              ".product_price_container"
            );
            for (let i = 0; i < productDetails.length; i++) {
              const priceDiv = document.createElement("div");
              priceDiv.innerText = productDetails[i].price;
              priceDiv.setAttribute("class", "productPrice");
              priceDiv.setAttribute("id", `price${i + 1}`);
              priceContainer.appendChild(priceDiv);
              originalPrice = productDetails[0].price;
              if (i > 0) {
                priceDiv.style.display = "none";
              } else {
                priceDiv.style.display = "block";
              }
            }

            document.querySelector(".DescriptionProductName").innerText =
              productDetails[0].name;
            document.querySelector(".keyIngredientsList").innerHTML =
              productDetails[0].KeyIngredients;
            document.querySelector(".featuresList").innerHTML =
              productDetails[0].Features;
            document.querySelector(".howToUseList").innerHTML =
              productDetails[0].HowToUse;
            document.querySelector(".cautionList").innerHTML =
              productDetails[0].Caution;
          })
          .catch((error) =>
            console.error("Error fetching product details:", error)
          );
      });
      var quantity = 1;
      function weightSelector(div, productDetails) {
        const selectedWeight = div.innerText;
        console.log(selectedWeight);

        const indexOfSize = productDetails.findIndex(
          (item) => item.size === selectedWeight
        );

        if (indexOfSize !== -1) {
          // Iterate over all price divs and show/hide based on the selected weight
          for (let i = 0; i < productDetails.length; i++) {
            const priceDiv = document.getElementById(`price${i + 1}`);

            if (i === indexOfSize) {
              // Show the price div for the selected weight
              priceDiv.style.display = "block";
            } else {
              // Hide other price divs
              priceDiv.style.display = "none";
            }
          }
          quantity = 1;
          console.log(quantity);
          newPrice = document.getElementById(`price${indexOfSize + 1}`);
          console.log(newPrice);
          originalPrice = productDetails[indexOfSize].price;

          updateQty();
          updateTotalPrice();
        } else {
          console.log(`${selectedWeight} not found in productDetails`);
        }
      }

      // JavaScript fro set price according to size
      var Qty = document.querySelector(".qty_number");

      function increaseQuantity() {
        if (quantity < 10) {
          quantity++;
          updateQtyAndPrice();
        }
      }

      function decreaseQuantity() {
        if (quantity > 1) {
          quantity--;
          updateQtyAndPrice();
        }
      }

      function updateQtyAndPrice() {
        updateQty();
        updateTotalPrice();
      }

      function updateQty() {
        Qty.textContent = quantity;
      }
      newPrice = document.getElementById("price1");
      function updateTotalPrice() {
        console.log(originalPrice);
        var totalPrice = originalPrice * quantity;
        console.log(totalPrice);

        console.log(newPrice);
        newPrice.innerText = totalPrice;
      }
    </script>
  </body>
</html>
